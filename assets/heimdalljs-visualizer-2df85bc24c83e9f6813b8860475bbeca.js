'use strict';define('heimdalljs-visualizer/app',['exports','heimdalljs-visualizer/resolver','ember-load-initializers','heimdalljs-visualizer/config/environment'],function(e,t,a,l){'use strict';Object.defineProperty(e,'__esModule',{value:!0});const n=Ember.Application.extend({modulePrefix:l.default.modulePrefix,podModulePrefix:l.default.podModulePrefix,Resolver:t.default});(0,a.default)(n,l.default.modulePrefix),e.default=n}),define('heimdalljs-visualizer/components/basic-tree',['exports','d3-selection','d3-hierarchy','d3-zoom'],function(e,t,a,l){'use strict';Object.defineProperty(e,'__esModule',{value:!0});const n=Ember.run,r=Ember.get,s=Ember.inject,i=500,o=50;e.default=Ember.Component.extend({classNames:['basic-tree'],graph:s.service(),init(){this._super(...arguments),this._graphData=null},didReceiveAttrs(){let e=r(this,'graphData');this._lastGraphData!==e&&e&&(n.schedule('render',this,this.drawTree,e),this._lastGraphData=e)},nodeFilter(e){return e.label.broccoliNode},drawTree(e){function n(e){let t=e.length*5+20;return t}function r(e){return Math.max(n(e.data.label.name),n(`total: ${(e.value/1e6).toFixed(2)}`),n(`self: ${(e.data._stats.time.self/1e6).toFixed(2)}`),n(`node id: ${e.data._id}`))}function s(e){g(m);let t=m.descendants(),a=m.links(),l=p.selectAll('.node').data(t,(e)=>e.data.id);m.each((e)=>e.y=c[e.height].x);let n=l.enter().append('g').attr('class','node').attr('transform',(e)=>`translate(${e.y},${e.x})`).on('click',(e)=>{e.children?(e._children=e.children,e.children=null):(e.children=e._children,e._children=null),s(e)});n.append('rect').attr('x',0).attr('y','-2em').attr('width',function(e){return e.computedWidth}).attr('height','4em').attr('stroke','black').attr('stroke-width',1).style('fill','#fff'),n.append('rect').attr('x',0).attr('y','-2em').attr('width',function(e){return e.computedWidth}).attr('height','1em').attr('stroke','black').attr('stroke-width',1).style('fill','#000000'),n.append('text').attr('text-anchor','middle').attr('x',(e)=>e.computedWidth/2).attr('y','-1.7em').attr('class','nodetitle').attr('font-weight','bold').text(function(e){return`${e.data.label.name}`}),n.append('text').attr('text-anchor','middle').attr('x',(e)=>e.computedWidth/2).attr('y','-0.4em').text(function(e){return`total: ${(e.value/1e6).toFixed(2)}`}),n.append('text').attr('text-anchor','middle').attr('x',(e)=>e.computedWidth/2).attr('y','0.8em').text(function(e){return`self: ${(e.data._stats.time.self/1e6).toFixed(2)}`}),n.append('text').attr('text-anchor','middle').attr('x',(e)=>e.computedWidth/2).attr('y','2.0em').text(function(e){return`node id: ${e.data._id}`}),l.transition().duration(i).attr('transform',(e)=>`translate(${e.y},${e.x})`),l.exit().transition().duration(i).attr('transform',function(){return'translate('+e.x+','+e.y+')'}).remove();let r=p.selectAll('.link').data(a,(e)=>e.target.data.id);r.enter().append('path').attr('class','link').attr('d',function(e){let t=e.source.y+e.source.computedWidth+o,a=e.target.y-o;return'M'+e.target.y+','+e.target.x+'L'+a+','+e.target.x+' '+t+','+e.target.x+' '+t+','+e.source.x+' '+(t-o)+','+e.source.x}),r.transition().duration(i).attr('d',function(e){let t=e.source.y+e.source.computedWidth+o,a=e.target.y-o;return'M'+e.target.y+','+e.target.x+'L'+a+','+e.target.x+' '+t+','+e.target.x+' '+t+','+e.source.x+' '+(t-o)+','+e.source.x}),r.exit().transition().duration(i/2).attr('transform',function(){return'translate('+e.x+','+e.y+')'}).remove()}let d=this.element.querySelector('.svg-container');d.innerHTML='';let u=(0,t.select)(d).append('svg').attr('preserveAspectRatio','xMinYMin meet').attr('viewBox','0 0 300 300').classed('svg-content',!0),p=u.append('g'),m=(0,a.hierarchy)(e,(e)=>{let t=[];for(let a of e.adjacentIterator())(!this.nodeFilter||this.nodeFilter(a))&&t.push(a);return t}).sum((e)=>e._stats.time.self).each((e)=>e.computedWidth=r(e)),c=[];m.each((e)=>{let t=c[e.height];t===void 0?(t={maxWidth:e.computedWidth,x:0},c[e.height]=t):t.maxWidth<e.computedWidth&&(t.maxWidth=e.computedWidth)});let h=0;for(let t,a=c.length-1;0<=a;a--)t=c[a],t.x=h,h=h+t.maxWidth+2*o;self.root=m;let g=(0,a.cluster)().separation(()=>8).nodeSize([9,280]);s(m);let f=(0,l.zoom)().on('zoom',()=>{p.attr('transform',t.event.transform)});u.call(f.transform,function(){return l.zoomIdentity.translate(48,120).scale(0.1)}()),u.call(f)}})}),define('heimdalljs-visualizer/components/drop-zone',['exports'],function(e){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),e.default=Ember.Component.extend({classNames:['drop-zone'],classNameBindings:['dropping:drop-zone--dropping'],attributeBindings:['draggable'],dropping:!1,draggable:!0,dragOver(){return!1},dragEnter(){this.set('dropping',!0)},dragLeave(){this.set('dropping',!1)},drop(e){e.preventDefault(),this.didDrop(e)}})}),define('heimdalljs-visualizer/components/flame-graph',['exports','heimdalljs-visualizer/utils/d3-flame-graphs-v4/d3-flame-graph'],function(e,t){'use strict';var a=Math.round;Object.defineProperty(e,'__esModule',{value:!0});const l=Ember.run,n=Ember.get,r=Ember.inject;e.default=Ember.Component.extend({classNames:['flame-graph'],graph:r.service(),flameGraph:null,totalTime:Ember.computed.alias('graph.data.summary.totalTime'),init(){this._super(...arguments),this._graphData=null},didReceiveAttrs(){this._scheduleDraw()},_scheduleDraw(){let e=n(this,'graph.graph');this._lastGraphData!==e&&e&&(l.schedule('render',this,this.drawFlame,e),this._lastGraphData=e)},formatTime(e){return 1e9<e?(a(100*(e/1e9))/100).toFixed(1)+'s':1e6<e?(a(100*(e/1e6))/100).toFixed(0)+'ms':(a(100*(e/1e6))/100).toFixed(1)+'ms'},convert(e){let t={value:e._stats.time.self,treeValue:e._stats.time.self,name:e._label.name+(e._label.broccoliPluginName?' ('+e._label.broccoliPluginName+')':''),stats:e._stats,children:[]};if(!e._children)return t;let a=t.treeValue,l=e._children;for(let n=0,r=l.length;n<r;n++){let e=l[n],r=this.convert(e);r&&(t.children.push(r),a+=r.treeValue)}return t.treeValue=a,t.time=this.formatTime(t.treeValue),t.percent=(100*(t.treeValue/this.get('totalTime'))).toFixed(1)+'%',t},drawFlame(e){let a=this.convert(e),l=-1,n=(e)=>{l++;let t='',a='&nbsp;';for(let r in e)if(e.hasOwnProperty(r)&&'own'!=r)if('object'==typeof e[r]){if('time'!=r||'time'==r&&1<Object.keys(e[r]).length){let s=r+a.repeat(13).substring(0,13*a.length-6*r.length);t+='&nbsp;'.repeat(l)+s+(0>=l?'<br/>':'')+n(e[r])}}else if('count'==r){let l=a.repeat(5).substring(0,5*a.length-6*e[r].toString().length)+e[r];t+=l}else if('time'==r){let l=this.formatTime(e[r]),n=' '+a.repeat(8).substring(0,8*a.length-6*l.length)+l+'<br/>';t+=n}return l--,t},r=document.getElementsByClassName('flame-graph')[0].clientHeight;r-=r%20;let s=document.getElementsByClassName('flame-graph')[0].clientWidth;this.flameGraph=new t.default('#d3-flame-graph',a,!0).size([s,r]).cellHeight(20).zoomEnabled(!0).zoomAction((e,t)=>self.console.log('Zoom: ',e,t)).labelFunction((e)=>e.data.name+' ['+e.data.time+' / '+e.data.percent+']').tooltip((e)=>{let t=this.formatTime(e.data.treeValue),a=' ['+(100*(e.data.treeValue/this.get('totalTime'))).toFixed(1)+'%]',l=' (self: '+this.formatTime(e.data.stats.time.self)+')';return e.data.name+'<br/>'+t+a+l+'<br/>'+n(e.data.stats)}).render()}})}),define('heimdalljs-visualizer/components/slow-node-times',['exports'],function(e){'use strict';function t(e){for(let a of e.statsIterator()){var t=l(a,2);let e=t[0],n=t[1];if('time.self'===e)return n}return 0}function a(e){var l=t(e);for(let t of e.adjacentIterator())t.label.broccoliNode&&(l+=a(t));return Ember.set(e._stats.time,'plugin',l),l}Object.defineProperty(e,'__esModule',{value:!0});var l=function(){function e(e,t){var a=[],l=!0,n=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(l=(s=i.next()).done)&&(a.push(s.value),!(t&&a.length===t));l=!0);}catch(e){n=!0,r=e}finally{try{!l&&i['return']&&i['return']()}finally{if(n)throw r}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();const n=Ember.get,r=Ember.set,s=Ember.computed,i=Ember.inject;e.default=Ember.Component.extend({graph:i.service(),init(){this._super(...arguments),this.sortDescending=!0},nodes:s('data','filter','pluginNameFilter','groupByPluginName',function(){let e=this.get('data'),t=[];if(!e)return t;a(e);for(let a of e.dfsIterator())a.label.broccoliNode&&t.push(a);let l=this.get('pluginNameFilter');l&&(t=t.filter((e)=>{return e.label.broccoliNode&&(l===e.label.broccoliPluginName||'undefined'===l&&e.label.broccoliPluginName===void 0)}));let n=this.get('groupByPluginName');if(n){let e=t.reduce((e,t)=>{let a=t.label.broccoliPluginName;return e[a]=e[a]||{count:0,time:0},e[a].time+=t._stats.time.plugin,e[a].count++,e},{});for(let a in t=[],e)t.push({groupedByPluginName:!0,label:{name:a,broccoliPluginName:e[a].count},_stats:{time:{plugin:e[a].time}}})}return t}).readOnly(),pluginNames:s('nodes',function(){let e=this.get('nodes');if(!e||0===e.length)return[];let t=[];if(!0===e[0].groupedByPluginName)t=e.map((e)=>e.label.name);else{let a=e.reduce((e,t)=>{let a=t.label.broccoliPluginName;return e[a]=a,e},{});t=Object.keys(a)}return t.sort(),t}).readOnly(),sortedNodes:s('nodes','sortDescending',function(){let e=this.get('sortDescending');return this.get('nodes').sort((t,a)=>{return e?a._stats.time.plugin-t._stats.time.plugin:t._stats.time.plugin-a._stats.time.plugin})}).readOnly(),totalTime:s('nodes',function(){let e=this.get('nodes');return e.reduce(function(e,t){return e+t._stats.time.plugin},0)}).readOnly(),actions:{'focus-node'(e){this.get('graph').selectNode(e)},toggleDetailsForNode(e){if(e.groupedByPluginName)this.set('groupByPluginName',!1),this.set('pluginNameFilter',e.label.name);else{let t=n(e,'showDetails');r(e,'showDetails',!t)}},toggleTime(){this.toggleProperty('sortDescending')},selectFilter(e){this.set('pluginNameFilter','clearFilter'===e?void 0:e)}}})}),define('heimdalljs-visualizer/controllers/application',['exports','fetch'],function(e,t){'use strict';Object.defineProperty(e,'__esModule',{value:!0});const a=Ember.inject;e.default=Ember.Controller.extend({graph:a.service(),_setGraphFromFile(e){const t=new FileReader;t.onload=(t)=>{this.get('graph').setGraph(JSON.parse(t.target.result)),this.set('showUploadModal',!1)},t.readAsText(e)},actions:{parseFile(e){this._setGraphFromFile(e.target.files[0])},onFileDrop(e){this._setGraphFromFile(e.dataTransfer.files[0])},useSample(e){(0,t.default)(e).then((e)=>{return e.json()}).then((e)=>{this.get('graph').setGraph(e),this.set('showUploadModal',!1)})},clearData(){this.get('graph').clearGraph()}}})}),define('heimdalljs-visualizer/controllers/flame',['exports'],function(e){'use strict';Object.defineProperty(e,'__esModule',{value:!0});const t=Ember.Controller,a=Ember.inject;e.default=t.extend({graph:a.service()})}),define('heimdalljs-visualizer/controllers/graph',['exports'],function(e){'use strict';Object.defineProperty(e,'__esModule',{value:!0});const t=Ember.Controller,a=Ember.getOwner,l=Ember.computed,n=Ember.inject;e.default=t.extend({graph:n.service(),route:l.alias('router.currentPath'),init(){this._super(...arguments),this.set('router',a(this).lookup('router:main'))}})}),define('heimdalljs-visualizer/controllers/graph/index',['exports'],function(e){'use strict';Object.defineProperty(e,'__esModule',{value:!0});const t=Ember.inject;e.default=Ember.Controller.extend({graph:t.service()})}),define('heimdalljs-visualizer/controllers/graph/node',['exports'],function(e){'use strict';Object.defineProperty(e,'__esModule',{value:!0});const t=Ember.inject;e.default=Ember.Controller.extend({graph:t.service()})}),define('heimdalljs-visualizer/controllers/selected-node',['exports'],function(e){'use strict';Object.defineProperty(e,'__esModule',{value:!0});const t=Ember.inject;e.default=Ember.Controller.extend({graph:t.service()})}),define('heimdalljs-visualizer/controllers/slow-nodes',['exports'],function(e){'use strict';Object.defineProperty(e,'__esModule',{value:!0});const t=Ember.inject;e.default=Ember.Controller.extend({graph:t.service(),actions:{parseFile(e){let t=new FileReader;t.onload=(t)=>{var e=t.target.result;this.get('graph').setGraph(JSON.parse(e))},t.readAsText(e.target.files[0])}}})}),define('heimdalljs-visualizer/event_dispatcher',['exports','ember-native-dom-event-dispatcher'],function(e,t){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,'default',{enumerable:!0,get:function(){return t.default}})}),define('heimdalljs-visualizer/helpers/and',['exports','ember-truth-helpers/helpers/and'],function(e,t){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,'default',{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,'and',{enumerable:!0,get:function(){return t.and}})}),define('heimdalljs-visualizer/helpers/app-version',['exports','heimdalljs-visualizer/config/environment','ember-cli-app-version/utils/regexp'],function(e,t,a){'use strict';function l(e,t={}){return t.hideSha?n.match(a.versionRegExp)[0]:t.hideVersion?n.match(a.shaRegExp)[0]:n}Object.defineProperty(e,'__esModule',{value:!0}),e.appVersion=l;const n=t.default.APP.version;e.default=Ember.Helper.helper(l)}),define('heimdalljs-visualizer/helpers/eq',['exports','ember-truth-helpers/helpers/equal'],function(e,t){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,'default',{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,'equal',{enumerable:!0,get:function(){return t.equal}})}),define('heimdalljs-visualizer/helpers/gt',['exports','ember-truth-helpers/helpers/gt'],function(e,t){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,'default',{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,'gt',{enumerable:!0,get:function(){return t.gt}})}),define('heimdalljs-visualizer/helpers/gte',['exports','ember-truth-helpers/helpers/gte'],function(e,t){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,'default',{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,'gte',{enumerable:!0,get:function(){return t.gte}})}),define('heimdalljs-visualizer/helpers/includes',['exports'],function(e){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),e.default=Ember.Helper.helper(function([e,t]){return e&&e.includes&&e.includes(t)})}),define('heimdalljs-visualizer/helpers/is-array',['exports','ember-truth-helpers/helpers/is-array'],function(e,t){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,'default',{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,'isArray',{enumerable:!0,get:function(){return t.isArray}})}),define('heimdalljs-visualizer/helpers/is-equal',['exports','ember-truth-helpers/helpers/is-equal'],function(e,t){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,'default',{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,'isEqual',{enumerable:!0,get:function(){return t.isEqual}})}),define('heimdalljs-visualizer/helpers/lt',['exports','ember-truth-helpers/helpers/lt'],function(e,t){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,'default',{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,'lt',{enumerable:!0,get:function(){return t.lt}})}),define('heimdalljs-visualizer/helpers/lte',['exports','ember-truth-helpers/helpers/lte'],function(e,t){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,'default',{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,'lte',{enumerable:!0,get:function(){return t.lte}})}),define('heimdalljs-visualizer/helpers/not-eq',['exports','ember-truth-helpers/helpers/not-equal'],function(e,t){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,'default',{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,'notEq',{enumerable:!0,get:function(){return t.notEq}})}),define('heimdalljs-visualizer/helpers/not',['exports','ember-truth-helpers/helpers/not'],function(e,t){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,'default',{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,'not',{enumerable:!0,get:function(){return t.not}})}),define('heimdalljs-visualizer/helpers/ns-to-ms',['exports'],function(e){'use strict';function t([e]){return(e/1e6).toFixed(2)}Object.defineProperty(e,'__esModule',{value:!0}),e.nsToMs=t,e.default=Ember.Helper.helper(t)}),define('heimdalljs-visualizer/helpers/or',['exports','ember-truth-helpers/helpers/or'],function(e,t){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,'default',{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,'or',{enumerable:!0,get:function(){return t.or}})}),define('heimdalljs-visualizer/helpers/stats-iterator',['exports'],function(e){'use strict';Object.defineProperty(e,'__esModule',{value:!0});var t=function(){function e(e,t){var a=[],l=!0,n=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(l=(s=i.next()).done)&&(a.push(s.value),!(t&&a.length===t));l=!0);}catch(e){n=!0,r=e}finally{try{!l&&i['return']&&i['return']()}finally{if(n)throw r}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();e.default=Ember.Helper.helper(function([e]){let a={};for(let n of e.statsIterator()){var l=t(n,2);let e=l[0],r=l[1];a[e]=r}return a})}),define('heimdalljs-visualizer/helpers/xor',['exports','ember-truth-helpers/helpers/xor'],function(e,t){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,'default',{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,'xor',{enumerable:!0,get:function(){return t.xor}})}),define('heimdalljs-visualizer/initializers/app-version',['exports','ember-cli-app-version/initializer-factory','heimdalljs-visualizer/config/environment'],function(e,t,a){'use strict';Object.defineProperty(e,'__esModule',{value:!0});let l,n;a.default.APP&&(l=a.default.APP.name,n=a.default.APP.version),e.default={name:'App Version',initialize:(0,t.default)(l,n)}}),define('heimdalljs-visualizer/initializers/container-debug-adapter',['exports','ember-resolver/resolvers/classic/container-debug-adapter'],function(e,t){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),e.default={name:'container-debug-adapter',initialize(){let e=arguments[1]||arguments[0];e.register('container-debug-adapter:main',t.default),e.inject('container-debug-adapter:main','namespace','application:main')}}}),define('heimdalljs-visualizer/resolver',['exports','ember-resolver'],function(e,t){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),e.default=t.default}),define('heimdalljs-visualizer/router',['exports','heimdalljs-visualizer/config/environment'],function(e,t){'use strict';Object.defineProperty(e,'__esModule',{value:!0});const a=Ember.Router.extend({location:t.default.locationType,rootURL:t.default.rootURL});a.map(function(){this.route('graph',{path:'/'},function(){this.route('node')}),this.route('slow-nodes'),this.route('flame')}),e.default=a}),define('heimdalljs-visualizer/services/graph',['exports','heimdalljs-visualizer/config/environment','heimdalljs-graph'],function(e,t,a){'use strict';Object.defineProperty(e,'__esModule',{value:!0});const l=Ember.getOwner,n=`${t.default.storageVersion}_graph-data`,r=`${t.default.storageVersion}_selected-node-id`;e.default=Ember.Service.extend({init(){this._super(...arguments);let e=sessionStorage.getItem(n);e&&this.setGraph(JSON.parse(e));let t=sessionStorage.getItem(r);if(t&&e){let e=this.get('graph');for(let a of e.dfsIterator())if(a.id===t){this.set('selectedNode',a);break}}},setGraph(e){let t=a.default.loadFromJSON(e);try{sessionStorage.setItem(n,JSON.stringify(e))}catch(t){}this.set('data',e),this.set('graph',t)},clearGraph(){this.set('data',null),this.set('graph',null),sessionStorage.removeItem(n),sessionStorage.removeItem(r)},selectNode(e){sessionStorage.setItem(r,e.id),this.set('selectedNode',e),l(this).lookup('router:main').transitionTo('graph.node')}})}),define('heimdalljs-visualizer/templates/application',['exports'],function(e){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),e.default=Ember.HTMLBars.template({id:'oUakfZRD',block:'{"symbols":[],"statements":[[6,"section"],[9,"class","global-nav hero is-light"],[7],[0,"\\n  "],[6,"nav"],[9,"class","nav"],[7],[0,"\\n    "],[6,"div"],[9,"class","nav-left"],[7],[0,"\\n      "],[4,"link-to",["graph"],[["class","activeClass"],["nav-item is-tab","is-active"]],{"statements":[[0,"Graph"]],"parameters":[]},null],[0,"\\n      "],[4,"link-to",["slow-nodes"],[["class","activeClass"],["nav-item is-tab","is-active"]],{"statements":[[0,"Nodes"]],"parameters":[]},null],[0,"\\n      "],[4,"link-to",["flame"],[["class","activeClass"],["nav-item is-tab","is-active"]],{"statements":[[0,"Flame"]],"parameters":[]},null],[0,"\\n    "],[8],[0,"\\n\\n    "],[6,"div"],[9,"class","nav-center"],[7],[0,"\\n      "],[6,"p"],[9,"class","nav-item title"],[7],[0,"\\n        Heimdall Visualizer\\n      "],[8],[0,"\\n    "],[8],[0,"\\n\\n    "],[6,"div"],[9,"class","nav-right"],[7],[0,"\\n"],[4,"if",[[25,"not",[[20,["graph","data"]]],null]],null,{"statements":[[0,"        "],[6,"a"],[9,"href","#"],[9,"class","nav-item"],[3,"action",[[19,0,[]],[25,"action",[[19,0,[]],[25,"mut",[[20,["showUploadModal"]]],null],true],null]]],[7],[0,"\\n          Upload Data\\n        "],[8],[0,"\\n"]],"parameters":[]},{"statements":[[0,"        "],[6,"a"],[9,"href","#"],[9,"class","nav-item"],[3,"action",[[19,0,[]],"clearData"]],[7],[0,"\\n          Clear Data\\n        "],[8],[0,"\\n"]],"parameters":[]}],[0,"\\n      "],[6,"a"],[9,"class","nav-item"],[9,"href","https://github.com/rwjblue/heimdalljs-visualizer"],[7],[0,"\\n        "],[6,"span"],[9,"class","icon"],[7],[0,"\\n          "],[6,"i"],[9,"class","fa fa-github"],[7],[8],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n\\n"],[6,"div"],[10,"class",[26,["modal ",[25,"if",[[20,["showUploadModal"]],"is-active"],null]]]],[7],[0,"\\n  "],[6,"div"],[9,"class","modal-background"],[7],[8],[0,"\\n  "],[6,"div"],[9,"class","modal-content"],[7],[0,"\\n    "],[6,"div"],[9,"class","box"],[7],[0,"\\n      "],[6,"form"],[7],[0,"\\n        "],[6,"div"],[9,"class","control is-grouped"],[7],[0,"\\n          "],[6,"label"],[9,"class","label"],[7],[0,"Upload the output of "],[6,"code"],[7],[0,"BROCCOLI_VIZ=1 ember build"],[8],[0,":"],[8],[0,"\\n          "],[6,"p"],[9,"class","control"],[7],[0,"\\n            "],[6,"input"],[9,"name","file-upload"],[9,"type","file"],[10,"onchange",[25,"action",[[19,0,[]],"parseFile"],null],null],[7],[8],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n        "],[6,"div"],[9,"class","control is-grouped"],[7],[0,"\\n          "],[6,"label"],[9,"class","label"],[7],[0,"Sample File:"],[8],[0,"\\n          "],[6,"p"],[9,"class","control"],[7],[0,"\\n          "],[6,"span"],[9,"class","select is-small"],[7],[0,"\\n            "],[6,"select"],[10,"onchange",[25,"action",[[19,0,[]],"useSample"],[["value"],["target.value"]]],null],[7],[0,"\\n              "],[6,"option"],[9,"selected",""],[9,"disabled",""],[7],[0,"Choose sample file"],[8],[0,"\\n              "],[6,"option"],[9,"value","./broccoli-viz-files/initial-build-canary-ember-cli-20170206.json"],[7],[0,"Empty Project - 2017-02-06"],[8],[0,"\\n              "],[6,"option"],[9,"value","./broccoli-viz-files/ghost-initial-build-canary-ember-cli-20170206.json"],[7],[0,"Ghost Admin Client - 2017-02-06"],[8],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n  "],[6,"button"],[9,"class","modal-close"],[3,"action",[[19,0,[]],[25,"action",[[19,0,[]],[25,"mut",[[20,["showUploadModal"]]],null],false],null]]],[7],[8],[0,"\\n"],[8],[0,"\\n\\n"],[4,"if",[[20,["graph","data"]]],null,{"statements":[[0,"  "],[1,[18,"outlet"],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"  "],[6,"section"],[9,"class","upload-data-banner hero is-fullheight is-light"],[7],[0,"\\n    "],[6,"div"],[9,"class","hero-body"],[7],[0,"\\n"],[4,"drop-zone",null,[["didDrop"],[[25,"action",[[19,0,[]],"onFileDrop"],null]]],{"statements":[[0,"        "],[6,"div"],[9,"class","container has-text-centered"],[7],[0,"\\n          "],[6,"a"],[9,"href","#"],[3,"action",[[19,0,[]],[25,"action",[[19,0,[]],[25,"mut",[[20,["showUploadModal"]]],null],true],null]]],[7],[0,"\\n            "],[6,"h1"],[9,"class","title"],[7],[0,"\\n              "],[6,"i"],[9,"class","fa fa-exclamation-triangle"],[7],[8],[0,"\\n            "],[8],[0,"\\n            "],[6,"h2"],[9,"class","subtitle"],[7],[0,"\\n              Run "],[6,"code"],[7],[0,"BROCCOLI_VIZ=1 ember build"],[8],[0," and please upload data to begin your analysis.\\n            "],[8],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null],[0,"    "],[8],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:'heimdalljs-visualizer/templates/application.hbs'}})}),define('heimdalljs-visualizer/templates/components/basic-tree',['exports'],function(e){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),e.default=Ember.HTMLBars.template({id:'XVIYZkvm',block:'{"symbols":[],"statements":[[6,"div"],[9,"class","svg-container"],[7],[0,"\\n"],[8]],"hasEval":false}',meta:{moduleName:'heimdalljs-visualizer/templates/components/basic-tree.hbs'}})}),define('heimdalljs-visualizer/templates/components/drop-zone',['exports'],function(e){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),e.default=Ember.HTMLBars.template({id:'ABJYRgFE',block:'{"symbols":["&default"],"statements":[[6,"div"],[9,"class","content"],[7],[0,"\\n  "],[11,1],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:'heimdalljs-visualizer/templates/components/drop-zone.hbs'}})}),define('heimdalljs-visualizer/templates/components/flame-graph',['exports'],function(e){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),e.default=Ember.HTMLBars.template({id:'+D978SC5',block:'{"symbols":[],"statements":[[6,"div"],[9,"id","d3-flame-graph"],[7],[0,"\\n"],[8]],"hasEval":false}',meta:{moduleName:'heimdalljs-visualizer/templates/components/flame-graph.hbs'}})}),define('heimdalljs-visualizer/templates/components/slow-node-times',['exports'],function(e){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),e.default=Ember.HTMLBars.template({id:'rDb6BWeb',block:'{"symbols":["node","stat","value","pluginName"],"statements":[[6,"div"],[9,"class","nodes-controls level is-marginless"],[7],[0,"\\n  "],[6,"div"],[9,"class","level-left"],[7],[0,"\\n    "],[6,"div"],[9,"class","level-item"],[7],[0,"\\n      "],[6,"p"],[9,"class","control has-addons"],[7],[0,"\\n        "],[6,"select"],[10,"onchange",[25,"action",[[19,0,[]],"selectFilter"],[["value"],["target.value"]]],null],[7],[0,"\\n"],[4,"unless",[[20,["pluginNameFilter"]]],null,{"statements":[[0,"             "],[6,"option"],[9,"disabled",""],[9,"selected",""],[7],[0," - Filter by Plugin Name - "],[8],[0,"\\n"]],"parameters":[]},null],[4,"each",[[20,["pluginNames"]]],null,{"statements":[[0,"             "],[6,"option"],[10,"value",[26,[[19,4,[]]]]],[7],[1,[19,4,[]],false],[8],[0,"\\n"]],"parameters":[4]},null],[4,"if",[[20,["pluginNameFilter"]]],null,{"statements":[[0,"             "],[6,"option"],[9,"value","clearFilter"],[7],[0,"Clear Filter"],[8],[0,"\\n"]],"parameters":[]},null],[0,"        "],[8],[0,"        \\n      "],[8],[0,"\\n    "],[8],[0,"\\n\\n    "],[6,"div"],[9,"class","level-item"],[7],[0,"\\n      "],[6,"p"],[9,"class","control"],[7],[0,"\\n        "],[6,"label"],[9,"class","checkbox"],[7],[0,"\\n          "],[6,"input"],[9,"type","checkbox"],[10,"checked",[18,"groupByPluginName"],null],[10,"onchange",[25,"action",[[19,0,[]],[25,"mut",[[20,["groupByPluginName"]]],null]],[["value"],["target.checked"]]],null],[7],[8],[0,"\\n          Group by Plugin Name\\n        "],[8],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n\\n"],[6,"table"],[9,"class","nodes-table table is-striped"],[7],[0,"\\n  "],[6,"thead"],[9,"class","nodes-table_header"],[7],[0,"\\n    "],[6,"tr"],[7],[0,"\\n      "],[6,"th"],[7],[0,"Description"],[8],[0,"\\n      "],[6,"th"],[7],[1,[25,"if",[[20,["groupByPluginName"]],"Count","Plugin Name"],null],false],[8],[0,"\\n      "],[6,"th"],[9,"class","td-time"],[7],[0,"\\n        "],[6,"a"],[9,"href","#"],[9,"class","nodes-table_toggle"],[3,"action",[[19,0,[]],"toggleTime"]],[7],[0,"Time (ms) "],[6,"i"],[10,"class",[26,["fa fa-caret-",[25,"if",[[20,["sortDescending"]],"down","up"],null]]]],[7],[8],[8],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n\\n  "],[6,"tbody"],[7],[0,"\\n"],[4,"each",[[20,["sortedNodes"]]],null,{"statements":[[0,"      "],[6,"tr"],[9,"class","table-row"],[3,"action",[[19,0,[]],"toggleDetailsForNode",[19,1,[]]]],[7],[0,"\\n        "],[6,"td"],[7],[1,[19,1,["label","name"]],false],[8],[0,"\\n        "],[6,"td"],[9,"class","table-row-plugin-name"],[7],[1,[19,1,["label","broccoliPluginName"]],false],[8],[0,"\\n        "],[6,"td"],[9,"class","td-time"],[7],[1,[25,"ns-to-ms",[[19,1,["_stats","time","plugin"]]],null],false],[8],[0,"\\n      "],[8],[0,"\\n"],[4,"if",[[19,1,["showDetails"]]],null,{"statements":[[0,"        "],[6,"tr"],[7],[0,"\\n          "],[6,"td"],[9,"colspan","3"],[7],[0,"\\n            "],[6,"div"],[9,"class","card"],[7],[0,"\\n              "],[6,"header"],[9,"class","card-header"],[7],[0,"\\n                "],[6,"p"],[9,"class","card-header-title"],[7],[0,"\\n                  Node Stats\\n                "],[8],[0,"\\n              "],[8],[0,"\\n\\n              "],[6,"div"],[9,"class","card-content"],[7],[0,"\\n"],[4,"each",[[25,"-each-in",[[25,"stats-iterator",[[19,1,[]]],null]],null]],null,{"statements":[[0,"                  "],[6,"div"],[7],[0,"\\n                    "],[6,"strong"],[7],[1,[19,2,[]],false],[8],[0,":\\n"],[4,"if",[[25,"includes",[[19,2,[]],"time"],null]],null,{"statements":[[0,"                      "],[1,[25,"ns-to-ms",[[19,3,[]]],null],false],[0,"ms\\n"]],"parameters":[]},{"statements":[[0,"                      "],[1,[19,3,[]],false],[0,"\\n"]],"parameters":[]}],[0,"                  "],[8],[0,"\\n"]],"parameters":[2,3]},null],[0,"              "],[8],[0,"\\n\\n              "],[6,"div"],[9,"class","card-footer"],[7],[0,"\\n                "],[6,"a"],[9,"class","card-footer-item"],[3,"action",[[19,0,[]],"focus-node",[19,1,[]]]],[7],[0,"Show Graph"],[8],[0,"\\n              "],[8],[0,"\\n            "],[8],[0,"\\n          "],[8],[0,"\\n        "],[8],[0,"\\n"]],"parameters":[]},null]],"parameters":[1]},null],[0,"  "],[8],[0,"\\n  "],[6,"tfoot"],[7],[0,"\\n    "],[6,"tr"],[7],[0,"\\n      "],[6,"td"],[9,"colspan","3"],[9,"class","td-time"],[7],[0,"Total: "],[1,[25,"ns-to-ms",[[20,["totalTime"]]],null],false],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"],[8]],"hasEval":false}',meta:{moduleName:'heimdalljs-visualizer/templates/components/slow-node-times.hbs'}})}),define('heimdalljs-visualizer/templates/flame',['exports'],function(e){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),e.default=Ember.HTMLBars.template({id:'3lm5ZMs/',block:'{"symbols":[],"statements":[[1,[25,"flame-graph",null,[["graphData"],[[20,["graph","graph"]]]]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:'heimdalljs-visualizer/templates/flame.hbs'}})}),define('heimdalljs-visualizer/templates/graph',['exports'],function(e){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),e.default=Ember.HTMLBars.template({id:'3RTwBQNM',block:'{"symbols":[],"statements":[[1,[18,"outlet"],false],[0,"\\n\\n"],[6,"div"],[9,"class","selected-node-controls hero-footer"],[7],[0,"\\n  "],[6,"nav"],[9,"class","tabs is-boxed is-fullwidth"],[7],[0,"\\n    "],[6,"div"],[9,"class","container"],[7],[0,"\\n      "],[6,"ul"],[7],[0,"\\n        "],[6,"li"],[10,"class",[26,[[25,"if",[[25,"eq",[[20,["route"]],"graph.index"],null],"is-active"],null]]]],[7],[0,"\\n          "],[4,"link-to",["graph.index"],null,{"statements":[[0,"Full Graph"]],"parameters":[]},null],[0,"\\n        "],[8],[0,"\\n        "],[6,"li"],[10,"class",[26,[[25,"if",[[25,"eq",[[20,["route"]],"graph.node"],null],"is-active"],null]]]],[7],[0,"\\n"],[4,"link-to",["graph.node"],null,{"statements":[[0,"            Selected Node: "],[1,[25,"if",[[20,["graph","selectedNode"]],[20,["graph","selectedNode","label","name"]],"None"],null],false],[0,"\\n"]],"parameters":[]},null],[0,"        "],[8],[0,"\\n      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"],[8],[0,"\\n"]],"hasEval":false}',meta:{moduleName:'heimdalljs-visualizer/templates/graph.hbs'}})}),define('heimdalljs-visualizer/templates/graph/index',['exports'],function(e){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),e.default=Ember.HTMLBars.template({id:'1UnCPxXs',block:'{"symbols":[],"statements":[[1,[25,"basic-tree",null,[["graphData"],[[20,["graph","graph"]]]]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:'heimdalljs-visualizer/templates/graph/index.hbs'}})}),define('heimdalljs-visualizer/templates/graph/node',['exports'],function(e){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),e.default=Ember.HTMLBars.template({id:'cgjGOSyG',block:'{"symbols":[],"statements":[[4,"if",[[20,["graph","selectedNode"]]],null,{"statements":[[0,"  "],[1,[25,"basic-tree",null,[["graphData","nodeFilter"],[[20,["graph","selectedNode"]],null]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"  "],[6,"section"],[9,"class","upload-data-banner hero is-fullheight is-light"],[7],[0,"\\n    "],[6,"div"],[9,"class","hero-body"],[7],[0,"\\n      "],[6,"div"],[9,"class","container has-text-centered"],[7],[0,"\\n"],[4,"link-to",["slow-nodes"],null,{"statements":[[0,"          "],[6,"h1"],[9,"class","title"],[7],[0,"\\n            "],[6,"i"],[9,"class","fa fa-exclamation-triangle"],[7],[8],[0,"\\n          "],[8],[0,"\\n          "],[6,"h2"],[9,"class","subtitle"],[7],[0,"\\n            Please select a node from the Nodes page.\\n          "],[8],[0,"\\n"]],"parameters":[]},null],[0,"      "],[8],[0,"\\n    "],[8],[0,"\\n  "],[8],[0,"\\n"]],"parameters":[]}]],"hasEval":false}',meta:{moduleName:'heimdalljs-visualizer/templates/graph/node.hbs'}})}),define('heimdalljs-visualizer/templates/slow-nodes',['exports'],function(e){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),e.default=Ember.HTMLBars.template({id:'RVmF1XuO',block:'{"symbols":[],"statements":[[1,[25,"slow-node-times",null,[["data"],[[20,["graph","graph"]]]]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:'heimdalljs-visualizer/templates/slow-nodes.hbs'}})}),define('heimdalljs-visualizer/utils/d3-flame-graphs-v4/d3-flame-graph',['exports','d3-selection','d3-scale','d3-array','d3-tip','d3-hierarchy','d3-transition'],function(e,t,a,l,n,r){'use strict';function s(e){if(!e)return'';let t=e.split('.');return t.slice(t.length-2).join('.')}function i(e){let t=[0,0,1,10],a=t[0],l=t[1],n=t[2],r=t[3];e=s(e).slice(0,6);for(let t=0,s=0,i=e.length-1;0<=i?s<=i:s>=i;t=0<=i?++s:--s)a+=n*(e.charCodeAt(t)%r),l+=n*(r-1),n*=0.7;return 0<l?a/l:a}var o=Math.round,u=Math.max;Object.defineProperty(e,'__esModule',{value:!0});const d={augment(e,t){let a=e.children;if(e.augmented)return e;if(e.originalValue=e.value,e.level=e.children?1:0,e.hidden=[],e.location=t,null==a||!a.length)return e.augmented=!0,e;let l=a.reduce((e,t)=>e+t.value,0);return l<e.value&&a.push({value:e.value-l,filler:!0}),a.forEach((e,a)=>d.augment(e,t+'.'+a)),e.level+=a.reduce((e,t)=>u(t.level,e),0),e.augmented=!0,e},partition(e){let t=(0,r.partition)(),a=(0,r.hierarchy)(e).sum((e)=>e.data?e.data.value:e.value).sort((e,t)=>{if(e.filler)return 1;if(t.filler)return-1;const a=e.data.name||'';return a.localeCompare(t.data.name)});return t(a).descendants()},hide(e,t){null===t&&(t=!1);let a=(e)=>e.reduce((e,t)=>e+t,0),l=(e,t)=>{let a=e.indexOf(t);if(0<=a)return e.splice(a,1)},n=(e,n)=>{return t?l(e.hidden,n):e.hidden.push(n),e.value=u(e.originalValue-a(e.hidden),0)},r=(e,t)=>{return e.children?e.children.forEach((e)=>{return n(e,t),r(e,t)}):void 0},s=(e,t)=>{let a=[];for(;e.parent;)n(e.parent,t),a.push(e=e.parent);return a};return e.forEach((e)=>{let t=e.originalValue;return s(e,t),n(e,t),r(e,t)})}};e.default=class{constructor(e,t,a){this._selector=e,this._generateAccessors(['margin','cellHeight','zoomEnabled','zoomAction','tooltip','tooltipPlugin','color','labelFunction']),this._ancestors=[],null==a&&(a=!1),this.console=a?window.console:{log(){},time(){},timeEnd(){}},this._size=[1200,800],this._cellHeight=20,this._margin={top:0,right:0,bottom:0,left:0},this._color=(e)=>{let t=i(e.data?e.data.name:e.name),a=200+o(55*t),l=0+o(230*(1-t)),n=0+o(55*(1-t));return'rgb('+a+', '+l+', '+n+')'},this._labelFunction=null,this._tooltipEnabled=!0,this._zoomEnabled=!0,this._tooltipEnabled&&n.default&&(this._tooltipPlugin=(0,n.default)()),this.console.time('augment'),this.original=d.augment(t,'0'),this.console.timeEnd('augment'),this.root(this.original)}size(e){return e?(this._size=e,(0,t.select)(this._selector).select('.flame-graph').attr('width',this._size[0]).attr('height',this._size[1]),this):this._size}root(e){return e?(this.console.time('partition'),this._root=e,this._data=d.partition(this._root),this._rootNode=this._data[0],this.console.timeEnd('partition'),this):this._root}hide(e,t){let a;if(null==t&&(t=!1),a=this.select(e,!1),!!a.length)return d.hide(a,t),this._data=d.partition(this._root),this.render()}zoom(e,t){if(!this.zoomEnabled())throw new Error('Zoom is disabled!');return this.tip&&this.tip.hide(),0<=this._ancestors.indexOf(e)?this._ancestors=this._ancestors.slice(0,this._ancestors.indexOf(e)):this._ancestors.push(this._root),this.root(e.data?e.data:e).render(),'function'==typeof this._zoomAction&&this._zoomAction(e,t),this}width(){return this.size()[0]-(this.margin().left+this.margin().right)}height(){return this.size()[1]-(this.margin().top+this.margin().bottom)}label(e){if(!(null!=e)||!e.data.name)return'';let t='function'==typeof this._labelFunction?this._labelFunction(e):s(e.data.name);return t.substr(0,o(this.x(e.x1-e.x0)/(4*(this.cellHeight()/10))))}select(e,t){let a;return null==t&&(t=!0),t?this.container.selectAll('.node').filter(e):(a=d.partition(this.original).filter(e),a)}render(){if(!this._selector)throw new Error('No DOM element provided');this.console.time('render'),this.container||this._createContainer(),this.fontSize=0.4*(this.cellHeight()/10),this.x=(0,a.scaleLinear)().domain([0,(0,l.max)(this._data,(e)=>e.x1)]).range([0,this.width()]);let e=Math.floor(this.height()/this.cellHeight()),t=this._root.level;this.y=(0,a.scaleQuantize)().domain([(0,l.min)(this._data,(e)=>e.y0),(0,l.max)(this._data,(e)=>e.y0)]).range((0,l.range)(t).map(function(t){return function(a){return(e-1-a-t._ancestors.length)*t.cellHeight()}}(this)));let n=this._data.filter(function(e){return function(t){return 0.4<e.x(t.x1-t.x0)&&0<=e.y(t.y0)&&!t.data.filler}}(this)),r={x:function(e){return function(t){return e.x(t.x0)}}(this),y:function(e){return function(t){return e.y(t.y0)}}(this),width:function(e){return function(t){let a=e.x(t.x1-t.x0);return a}}(this),height:function(e){return function(){return e.cellHeight()}}(this),text:function(e){return function(t){if(t.data.name&&40<e.x(t.x1-t.x0))return e.label(t)}}(this)},s=this.container.selectAll('.node').data(n,(e)=>e.data.location).attr('class','node');this._renderNodes(s,r,!1,n);let i=s.enter().append('g').attr('class','node');return this._renderNodes(i,r,!0,n),s.exit().remove(),this.zoomEnabled()&&this._renderAncestors()._enableNavigation(),this.tooltip()&&this._renderTooltip(),this.console.timeEnd('render'),this.console.log(`Processed ${this._data.length} items`),this}_createContainer(){(0,t.select)(this._selector).select('svg').remove();let e=(0,t.select)(this._selector).append('svg').attr('class','flame-graph').attr('width',this._size[0]).attr('height',this._size[1]),a=`translate(${this.margin().left}, ${this.margin().top})`;return this.container=e.append('g').attr('transform',a),e.append('rect').attr('width',this._size[0]-(this._margin.left+this._margin.right)).attr('height',this._size[1]-(this._margin.top+this._margin.bottom)).attr('transform',a).attr('class','border-rect')}_renderNodes(e,t,a,l){let n,r;return null==a&&(a=!1),a||(r=e.selectAll('rect')),a&&(r=e.append('rect')),r.data(l,(e)=>e.data?e.data.location:e.location).attr('fill',function(e){return function(t){return e._color(t)}}(this)).transition().attr('width',t.width).attr('height',this.cellHeight()).attr('x',t.x).attr('y',t.y),a||(n=e.selectAll('text')),a&&(n=e.append('text')),n.data(l,(e)=>e.data?e.data.location:e.location).attr('class','label').style('font-size',this.fontSize+'em').transition().attr('dy',this.fontSize/2+'em').attr('x',function(){return function(e){return t.x(e)+2}}(this)).attr('y',function(e){return function(a,l){return t.y(a,l)+e.cellHeight()/2}}(this)).text(t.text),this}_renderTooltip(){return this._tooltipPlugin&&this._tooltipEnabled?(this.tip=this._tooltipPlugin.attr('class','d3-tip').html(this.tooltip()).direction(((e)=>(t)=>{return e.x(t.x0)+e.x(t.x1-t.x0)/2>e.width()-100?'w':100>e.x(t.x0)+e.x(t.x1-t.x0)/2?'e':'s'})(this)).offset(((e)=>(t)=>{var a=Math.ceil;let l=e.x(t.x0)+e.x(t.x1-t.x0)/2,n=u(a(e.x(t.x1-t.x0)/2),5),r=a(e.cellHeight()/2);return e.width()-100<l?[0,-n]:100>l?[0,n]:[r,0]})(this)),this.container.call(this.tip),this.container.selectAll('.node').on('mouseover',function(e){return function(a){return e.tip.show(a,t.event.currentTarget)}}(this)).on('mouseout',this.tip.hide).selectAll('.label').on('mouseover',function(e){return function(a){return e.tip.show(a,t.event.currentTarget.parentNode)}}(this)).on('mouseout',this.tip.hide),this):this}_renderAncestors(){let e,t,a,l,n;if(!this._ancestors.length)return n=this.container.selectAll('.ancestor').remove(),this;let r=this._ancestors.map((e,t)=>({name:e.name,value:t+1,location:e.location,isAncestor:!0}));for(t=e=0,a=r.length;e<a;t=++e){l=r[t];let e=r[t-1];e&&(e.children=[l])}let i={x:function(){return function(){return 0}}(this),y:function(e){return function(t){return e.height()-t.value*e.cellHeight()}}(this),width:this.width(),height:this.cellHeight(),text:function(){return function(e){return'\u21A9 '+s(e.data?e.data.name:e.name)}}(this)};n=this.container.selectAll('.ancestor').data(d.partition(r[0]),(e)=>e.location),this._renderNodes(n,i,!1,r);let o=n.enter().append('g').attr('class','ancestor');return this._renderNodes(o,i,!0,r),n.exit().remove(),this}_enableNavigation(){let e=((e)=>(t)=>{let a;return 0<o(e.width()-e.x(t.x1-t.x0))&&(null==(a=t.children)?void 0:a.length)})(this);return this.container.selectAll('.node').classed('clickable',(()=>(t)=>e(t))(this)).on('click',((a)=>(l)=>{if(a.tip&&a.tip.hide(),e(l))return a.zoom(l,t.event)})(this)),this.container.selectAll('.ancestor').on('click',((e)=>(a,l)=>{return e.tip&&e.tip.hide(),e.zoom(e._ancestors[l],t.event)})(this)),this}_generateAccessors(e){let t,a=[];for(let l=0,n=e.length;l<n;l++)t=e[l],a.push(this[t]=((e)=>function(t){return arguments.length?(this['_'+e]=t,this):this['_'+e]})(t));return a}}}),define('heimdalljs-visualizer/config/environment',[],function(){try{var e='heimdalljs-visualizer'+'/config/environment',t=document.querySelector('meta[name="'+e+'"]').getAttribute('content'),a=JSON.parse(unescape(t)),l={default:a};return Object.defineProperty(l,'__esModule',{value:!0}),l}catch(t){throw new Error('Could not read config from meta tag with name "'+e+'".')}}),runningTests||require('heimdalljs-visualizer/app')['default'].create({name:'heimdalljs-visualizer',version:'0.5.0+246cb8b7'});